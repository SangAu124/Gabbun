# 02. docs/02_parameters.md

## 1. 기본 파라미터 추천값 (MVP 기준)

### A. 스마트 알람 윈도우 (Window)
* **기본값**: 30분
* **선택지**: 15 / 30 / 45분
* **추천 사유**:
    * 15분: 성공률 낮음 (좋은 타이밍이 없을 가능성)
    * 45분: 너무 이르게 깨울 확률 증가
    * **30분**: 가장 무난한 UX/성공률 타협점

### B. 샘플링/업데이트 주기 (배터리·정확도 균형)

#### 1) Low-power 감시 단계 (윈도우 밖, 선택사항)
* **모션**: 0.25 Hz (4초에 1회) 또는 생략 가능
* **심박**: OS 제공 이벤트 기반 (폴링 금지)
* **MVP 전략**: 윈도우 시작 전까지는 대기 모드로, 센서 수집 생략 권장

#### 2) Wake Window 고정밀 단계 (핵심)
* **모션 Raw 샘플링**: **25 Hz** (권장), 옵션 10 Hz
* **Feature 업데이트**: **30초 주기** (권장)
* **HR Feature 업데이트**: **30초 주기** (심박 이벤트 수신 시 갱신)
* **권장 조합**: `Raw Motion 25Hz` + `Feature 30s`
    * 이유: 오탐 억제(짧은 변동 평균화) + 배터리 효율

---

## 2. Threshold 및 오탐 방지 규칙

### A. 점수 스케일
* Feature 정규화 후 `score ∈ [0, 1]` 가정

### B. 민감도 매핑 (Sensitivity)
| 모드 | Threshold | 설명 |
| :--- | :--- | :--- |
| **Sensitive** | **0.62** | 쉽게 울림 (잠귀가 밝거나 일찍 깨고 싶은 경우) |
| **Balanced** | **0.72** | **기본값** (균형 잡힌 설정) |
| **Conservative**| **0.80** | 확실할 때만 울림 (오탐 최소화) |

### C. 지속성 조건 (Persistency) - **필수**
* **3-sample majority**: 최근 90초(= 30초 샘플 3개) 중 **2개 이상**이 Threshold 초과 시 발화
* **Cooldown**: 알람 후보 트리거 후 **최소 5분간** 재발화 금지
* **Forced Alarm**: 윈도우 내 적합 순간이 없으면, **목표 기상 시각에 무조건 발화**

---

## 3. 요약 (MVP 권장 세트)
> **Window 30m / Motion 25Hz / Feature 30s / Threshold 0.72 / 3중 2회 / Cooldown 5m / Forced at wakeTime**

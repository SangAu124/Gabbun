# 🌿 가뿐 (Gabbun)

## 프로젝트 개요

**가뿐(Smart Wake Alarm)**은 애플 워치를 착용한 사용자가 매일 아침을 더욱 상쾌하게 시작할 수 있도록 돕는 **스마트 기상 솔루션**입니다.

이 프로젝트의 핵심 가치는 아주 명확해요.

> **"약속한 기상 시각은 꼭 지키되, 그전에 가장 깨어나기 좋은 순간을 찾아 드립니다."**

가뿐은 애플이 제공하는 수면 단계(Core Sleep) 데이터를 단순히 기다리지 않아요. **애플 워치가 실시간으로 수집하는 생체 신호(모션, 심박수)**를 직접 분석해, 사용자가 자연스럽게 눈을 뜰 수 있는 최적의 찰나를 포착합니다.

---

## 가뿐(Gabbun)이 해결하려는 고민 (Problem Statement)

아침마다 알람 소리에 깜짝 놀라 깨어난 뒤, 하루 종일 몽롱했던 경험이 있으신가요?

* 깊은 잠에 빠져 있을 때 억지로 깨어나면 **수면 관성(Sleep Inertia)** 때문에 몸이 천근만근 무겁게 느껴져요.
* 결국 알람을 끄고 다시 잠들게 되어 지각의 위험이 생기기도 하죠.
* 같은 시간을 자더라도 '어느 단계에서 깨느냐'에 따라 아침의 컨디션은 크게 달라집니다.

가뿐은 단순히 '몇 시에 깨우느냐'보다 **'어떤 상태일 때 깨우느냐'**에 집중하여, 여러분의 아침 풍경을 바꾸고자 합니다.

---

## 가뿐(Gabbun)의 약속 (Objective)

* **정해진 시간은 반드시 지켜요:** 어떤 상황에서도 사용자가 설정한 목표 기상 시각은 보장합니다.
* **기분 좋은 기상을 선물해요:** 가능하면 목표 시간 전, 몸이 깨어날 준비가 된 타이밍에 알람을 울립니다.
* **믿음직하게 동작해요:** 애플 워치 단독으로도 충분히 똑똑하게 작동하며 실시간성을 확보합니다.
* **배터리 걱정을 덜어드려요:** 사용자의 워치 배터리 소모를 세심하게 고려하여 설계했습니다.

---

## MVP 기능 (In Scope)

### 📱 iOS 앱

* 기상 시각 및 스마트 알람 윈도우(15/30/45분) 설정
* 개인별 맞춤 민감도 설정 (Sensitive / Balanced / Conservative)
* 애플 워치와 실시간 설정 동기화
* 기상 후 알람 결과 요약 보고서 확인

### ⌚ watchOS 앱

* 스마트 알람 구간 진입 시 실시간 센서 모니터링
* 깨어날 준비 상태(Wakeability) 점수 계산 및 알람 트리거
* 스마트 알람 또는 정시 강제 알람 발화
* 직관적인 알람 종료 및 스누즈 처리

### 🛠️ 공통 기술 사항

* **Tuist**를 활용한 효율적인 멀티 타겟 프로젝트 관리
* **TCA(The Composable Architecture)** 기반의 일관된 상태 관리
* **WatchConnectivity**를 통한 안정적인 기기 간 통신

---

## 잠시 미뤄두는 기능들 (Non-goals)

더 본질적인 가치에 집중하기 위해, 아래 기능들은 이번 MVP 단계에서 제외하기로 했어요.

* 전문 의료용 수면 분석이나 진단
* 애플 기본 수면 단계 데이터의 실시간 활용 (자체 알고리즘 활용)
* 서버 연동이나 별도의 계정 시스템 (개인정보 보호 및 간결함 유지)
* 장기적인 통계 그래프나 시각화 대시보드
* 애플 워치 이외의 웨어러블 기기 지원

---

## 기술적 접근 방식

* **든든한 워치:** 실시간성과 신뢰성을 위해 모든 판단은 애플 워치 안에서 이루어집니다.
* **스마트한 알고리즘:** 움직임과 심박수를 조합해 점수를 내고, 다수결 원칙(Majority Rule)과 강제 알람 로직을 더해 안정성을 높였습니다.
* **가벼운 통신:** 원시 데이터는 기기 안에 머물고, 꼭 필요한 요약 이벤트만 안전하게 전달합니다.

---

## 시작 가이드 (Build & Run)

### 준비물이 필요해요

* macOS (최신 버전 권약) 및 Xcode 15 이상
* 테스트를 위한 애플 워치 실기기
* Homebrew와 Tuist가 설치되어 있어야 합니다.

### 프로젝트 생성 및 실행하기

```bash
# Tuist 설치
brew install tuist

# 의존성 설치 및 프로젝트 생성
tuist install
tuist generate

```

1. Xcode에서 생성된 Workspace를 열어주세요.
2. `iOSApp` 스킴을 선택해 실행하면, 연결된 애플 워치에도 앱이 자동으로 설치됩니다.
3. 앱에서 알람을 설정하고 워치와 동기화가 잘 되는지 확인해 보세요!

---

## 개발 원칙 및 철학

* 데이터는 언제나 **한 방향**으로 흐르도록 설계하여 예측 가능성을 높입니다.
* 모든 알고리즘은 **테스트**를 통해 검증된 로직만 사용합니다.
* 워치는 아이폰 없이도 **독립적으로** 여러분을 깨울 수 있어야 합니다.
* 시스템에 오류가 생기더라도, **정시 알람은 반드시 울려야 한다**는 것이 저희의 철칙입니다.

---

## 향후 발자취 (Post-MVP)

저는 여기서 멈추지 않고 계속 발전할 계획이에요.

* 나보다 나를 더 잘 아는 **개인화 알고리즘 튜닝**
* **Core ML** 도입을 통한 더 정교한 기상 타이밍 예측
* 기상 데이터를 분석해 최적의 알람 윈도우를 추천해 주는 기능
* 아침의 감성을 더해줄 나만의 **햅틱 및 사운드 패턴**

---

가뿐과 함께라면 매일 아침이 조금 더 기다려질 거예요. 우리 함께 더 가뿐한 아침을 만들어 가요! ☀️
